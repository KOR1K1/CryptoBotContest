# MongoDB Configuration
MONGODB_URI=mongodb://localhost:27017/auction_db

# Docker Container Resource Limits (Optional)
# If running in Docker with resource limits, you can explicitly set them here
# This overrides automatic detection from cgroups
# Example for small server: DOCKER_MEMORY_LIMIT_GB=2
# Example for large server: DOCKER_MEMORY_LIMIT_GB=32
# DOCKER_MEMORY_LIMIT_GB=
# DOCKER_CPU_LIMIT=

# MongoDB WiredTiger Cache Size (GB)
# AUTO-DETECTED: If not set, system automatically detects based on available RAM
# Small systems (<4GB RAM): 1GB
# Medium systems (4-16GB RAM): 2-8GB
# Large systems (16-64GB RAM): 16-32GB
# Very large systems (>64GB RAM): 32GB (max)
# 
# To override auto-detection, uncomment and set:
# MONGO_WIREDTIGER_CACHE_SIZE_GB=16

# MongoDB Connection Pool Configuration
# AUTO-DETECTED: If not set, system automatically detects based on RAM and CPU
# Small systems (<4GB RAM, <4 cores): 20-30 connections
# Medium systems (4-16GB RAM, 4-8 cores): 50-100 connections
# Large systems (16-64GB RAM, 8-12 cores): 100-300 connections
# Very large systems (>64GB RAM, 12+ cores): 300-500 connections
#
# To override auto-detection, uncomment and set:
# MONGO_MAX_POOL_SIZE=300
# MONGO_MIN_POOL_SIZE=20

# maxIdleTimeMS: Close idle connections after this time (milliseconds)
# Default: 30000 (30 seconds)
# Prevents connection leaks and allows MongoDB to free up resources
MONGO_MAX_IDLE_TIME_MS=30000

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_TTL=3000
# Enable Redis-backed throttling for multi-instance deployments (default: false)
# Set to 'true' for horizontal scaling scenarios
REDIS_USE_FOR_THROTTLING=false

# Cache TTL Configuration (milliseconds)
CACHE_TTL_DASHBOARD=2000
CACHE_TTL_AUCTION=5000
CACHE_TTL_TOP_BIDS=1000
CACHE_TTL_USER_POSITION=2000

# Server Configuration
PORT=3000
NODE_ENV=development

# Logging Configuration
LOG_LEVEL=info

# JWT (for future authentication)
JWT_SECRET=your-secret-key-here
JWT_EXPIRES_IN=24h

# Rate Limiting Configuration
# Protects against DDoS and abuse
# Short window: high-frequency protection (per second)
THROTTLE_SHORT_TTL=1000
THROTTLE_SHORT_LIMIT=10
# Medium window: burst protection (per 10 seconds)
THROTTLE_MEDIUM_TTL=10000
THROTTLE_MEDIUM_LIMIT=50
# Long window: sustained abuse protection (per minute)
THROTTLE_LONG_TTL=60000
THROTTLE_LONG_LIMIT=200

# CORS Configuration
# Production: Set allowed origins (comma-separated)
# Example: CORS_ORIGINS=https://example.com,https://app.example.com
# Development: Defaults to http://localhost:3001,http://localhost:3000
CORS_ORIGINS=http://localhost:3001,http://localhost:3000
