# MongoDB Configuration
MONGODB_URI=mongodb://localhost:27017/auction_db

# MongoDB WiredTiger Cache Size (GB)
# Default: 4GB (for development)
# Production: 50% of available RAM
# For 8GB RAM: 4GB
# For 16GB RAM: 8GB
# For 32GB RAM: 16GB
MONGO_WIREDTIGER_CACHE_SIZE_GB=4

# MongoDB Connection Pool Configuration
# maxPoolSize: Maximum number of connections in the pool
# Default: 50 (for development), Production: 50-100 for single server
# For high load (100k+ bids/round): 75-100
# For medium load (10k-100k bids/round): 50-75
MONGO_MAX_POOL_SIZE=50

# minPoolSize: Minimum number of connections to keep in the pool
# Default: 5 (for development), Production: 5-10
# Keeps minimum connections ready to reduce connection overhead
MONGO_MIN_POOL_SIZE=5

# maxIdleTimeMS: Close idle connections after this time (milliseconds)
# Default: 30000 (30 seconds)
# Prevents connection leaks and allows MongoDB to free up resources
MONGO_MAX_IDLE_TIME_MS=30000

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_TTL=3000
# Enable Redis-backed throttling for multi-instance deployments (default: false)
# Set to 'true' for horizontal scaling scenarios
REDIS_USE_FOR_THROTTLING=false

# Cache TTL Configuration (milliseconds)
CACHE_TTL_DASHBOARD=2000
CACHE_TTL_AUCTION=5000
CACHE_TTL_TOP_BIDS=1000
CACHE_TTL_USER_POSITION=2000

# Server Configuration
PORT=3000
NODE_ENV=development

# Logging Configuration
LOG_LEVEL=info

# JWT (for future authentication)
JWT_SECRET=your-secret-key-here
JWT_EXPIRES_IN=24h

# Rate Limiting Configuration
# Protects against DDoS and abuse
# Short window: high-frequency protection (per second)
THROTTLE_SHORT_TTL=1000
THROTTLE_SHORT_LIMIT=10
# Medium window: burst protection (per 10 seconds)
THROTTLE_MEDIUM_TTL=10000
THROTTLE_MEDIUM_LIMIT=50
# Long window: sustained abuse protection (per minute)
THROTTLE_LONG_TTL=60000
THROTTLE_LONG_LIMIT=200

# CORS Configuration
# Production: Set allowed origins (comma-separated)
# Example: CORS_ORIGINS=https://example.com,https://app.example.com
# Development: Defaults to http://localhost:3001,http://localhost:3000
CORS_ORIGINS=http://localhost:3001,http://localhost:3000
